# 🚀 스마트 프라이싱 엔진 배포 가이드
> 기술 지식 없이도 30분 안에 완료할 수 있습니다

---

## 전체 흐름

```
① Supabase 계정 생성 → DB 세팅  (10분)
② Vercel 계정 생성 → 코드 업로드  (10분)
③ 환경변수 연결 → 배포 완료  (5분)
```

---

## STEP 1. Supabase — 데이터베이스 세팅

### 1-1. 계정 생성
1. https://supabase.com 접속
2. **Start your project** 클릭
3. GitHub 계정으로 로그인 (없으면 이메일 가입)

### 1-2. 새 프로젝트 생성
1. **New project** 클릭
2. 설정:
   - Name: `pricing-engine` (아무 이름이나 OK)
   - Database Password: **기억하기 쉬운 비밀번호 입력 후 저장해두세요**
   - Region: `Northeast Asia (Seoul)` 선택
3. **Create new project** 클릭 → 1~2분 대기

### 1-3. 테이블 생성
1. 왼쪽 메뉴에서 **SQL Editor** 클릭
2. **New query** 클릭
3. `supabase_setup.sql` 파일 내용을 전체 복사해서 붙여넣기
4. 우측 상단 **Run** 버튼 클릭
5. 하단에 "Success" 메시지 확인

### 1-4. API 키 복사 (나중에 필요)
1. 왼쪽 메뉴 **Settings** → **API** 클릭
2. 아래 두 가지를 메모장에 복사해두기:
   - **Project URL**: `https://xxxxxxxxxx.supabase.co`
   - **anon public** 키: `eyJhbGci...` 로 시작하는 긴 문자열

---

## STEP 2. Vercel — 코드 배포

### 2-1. GitHub에 코드 올리기
1. https://github.com 접속 → 계정 생성 또는 로그인
2. 우측 상단 **+** → **New repository** 클릭
3. Repository name: `pricing-engine`
4. **Create repository** 클릭
5. 이후 화면에서 **uploading an existing file** 링크 클릭
6. 프로젝트 폴더(`pricing-app`) 안의 **모든 파일을 드래그**해서 업로드
7. **Commit changes** 클릭

### 2-2. Vercel 연결
1. https://vercel.com 접속
2. **Start Deploying** → GitHub으로 로그인
3. **Import Git Repository** → `pricing-engine` 선택
4. **Import** 클릭

### 2-3. 환경변수 입력 ← 중요!
배포 화면에서 **Environment Variables** 섹션 찾기:

| Name | Value |
|------|-------|
| `NEXT_PUBLIC_SUPABASE_URL` | STEP 1-4에서 복사한 Project URL |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | STEP 1-4에서 복사한 anon public 키 |

두 줄 모두 입력 후 **Deploy** 클릭

### 2-4. 배포 완료
- 1~3분 후 초록색 체크 표시
- `https://pricing-engine-xxxxxxx.vercel.app` 형태의 URL 생성
- 이 URL을 팀원들과 공유!

---

## STEP 3. 데이터 업로드

1. 배포된 URL 뒤에 `/admin` 추가해서 접속
   - 예: `https://pricing-engine-xxx.vercel.app/admin`
2. 엑셀 파일 드래그 or 파일 선택
3. 미리보기 확인 후 **업로드** 클릭
4. 완료 후 대시보드에서 확인

---

## 이후 데이터 업데이트

새 판매 데이터가 생기면 `/admin` 페이지에서 엑셀 다시 업로드하면 끝.
- 같은 예약번호는 자동 덮어쓰기
- 전체 파일을 올려도 되고, 신규분만 올려도 됨

---

## 문제가 생기면

| 증상 | 해결 |
|------|------|
| 배포 후 흰 화면 | 환경변수 오타 확인 → Vercel 대시보드 → Settings → Environment Variables |
| 업로드 후 오류 | Supabase → SQL Editor → 테이블 생성 SQL 다시 실행 |
| URL 접속 안 됨 | Vercel 대시보드에서 배포 상태 확인 |
